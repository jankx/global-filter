(()=>{function e(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,n)||t(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){if(e){if("string"==typeof e)return n(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function r(e){var t=e.getAttribute("name");return(e.dataset.objectType||"none")+"-"+t}function a(n){return function(r){void 0===r&&(r=n.target.findParent(".jankx-global-filter").dataset.destLayout||"jankx-main-layout");var a=document.querySelectorAll("[data-dest-layout="+r+"]"),o=new FormData;if(a.forEach((function(n){var r=n.querySelector("form");if(r){var a,i=function(e){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=t(e))){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw o}}}}(new FormData(r));try{for(i.s();!(a=i.n()).done;){var l=e(a.value,2),c=l[0],u=l[1];o.append(c,u)}}catch(e){i.e(e)}finally{i.f()}}})),"jankx-main-layout"===r){var i=document.querySelector(".jankx-product-ordering select.orderby");i&&o.append("order_product",i.value)}!function(e,t){var n=document.getElementById(t),r=n.dataset.postType,a=n.dataset.currentPage||1,o=n.dataset.postsPerPage||10,i=n.dataset.layout||"card",l=n.dataset.engineId,c=n.dataset.thumbnailPosition;if(e.append("post_type",r),e.append("current_page",a),e.append("posts_per_page",o),e.append("layout",i),e.append("engine_id",l),e.append("thumb_pos",c),e.append("action",jkx_global_filter.action),Object.keys(jkx_global_filter.current_conditions).length>0){var u=jkx_global_filter.current_conditions;Object.keys(u).forEach((function(t){var n=u[t];Object.keys(n).length>0&&function(e,t,n){var r=t+"["+Object.keys(e).join("")+"][]";console.log(r),n.forEach((function(e,t){console.log(t,e)}))}(n,t,e)&&Object.keys(n).forEach((function(r){Array.isArray(n[r])&&n[r].forEach((function(n){e.append(t+"["+r+"][]",n)}))}))}))}jankx_ajax(jkx_global_filter.ajax_url,"GET",e,{beforeSend:function(){},complete:function(e){var t=n.find(".jankx-posts"),a=t.dataset.mode||"append";if(4===e.readyState&&200===e.status){var o=e.responseJSON&&e.responseJSON.success;if(o){var c=t.dataset.contentWrapper?t.find(t.dataset.contentWrapper):t;if("replace"===a?c.html(e.responseJSON.data.content):c.appendHTML(e.responseJSON.data.content),["carousel","preset-3","preset-5"].indexOf(i)>=0){var u=n.find(".splide"),d=u.getAttribute("id").replaceAll(/-/gi,"_");window[d]&&window[d].destroy(),configs=window[d+"__configs"]||{},window[d]=new Splide(u,configs),window[d].mount()}}var s=jkx_post_layout["jankx_tabs_"+l+"_"+i+"_"+r];window[s]&&window[s](c,body,o)}}})}(o,r)}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0)}document.addEventListener("DOMContentLoaded",(function(){var e,t=document.querySelectorAll("select.select-filter");if(t.length>0)for(var n=0;n<t.length;n++){var o=t[n];window[r(o)]=new Choices(o,{})}(e=document.querySelectorAll(".jankx-global-filter .collapse-button")).length>0&&e.forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault();var t=e.target.findParent(".jankx-filter");t&&(t.hasClass("collapse")?(t.addClass("expand"),t.removeClass("collapse")):(t.addClass("collapse"),t.removeClass("expand")))}))})),function(){var e=document.querySelectorAll(".jankx-filter .filter-control");e.length>0&&e.forEach((function(e){e.addEventListener("change",a)}));var t=document.querySelector(".jankx-product-ordering select.orderby");t&&t.addEventListener("change",(function(e){a(e,"jankx-main-layout")}))}()}))})();